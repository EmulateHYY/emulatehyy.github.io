<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.6.14 (471741)"/><meta name="altitude" content="74.92893218994141"/><meta name="author" content="嗄洧雨悸"/><meta name="created" content="2022-12-29 14:39:11 +0000"/><meta name="latitude" content="34.7853541675019"/><meta name="longitude" content="114.3179113420437"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2022-12-29 14:50:31 +0000"/><title>知识点5：返回指定页面并传参</title></head><body><div><span style="font-weight: bold;">本节主要讲的是：</span></div><ul><li><div><b>返回指定页面并传参</b></div></li></ul><div><b><br/></b></div><div><b><br/></b></div><div><b><font color="#ff2600">一、返回指定页面并传参</font></b></div><div><br/></div><div>需求：A 页面跳转到 B 页面，当从 B 页面返回到 A 页面时，需要将一些参数传回到 A页面。</div><div><br/></div><div><a href="https://uniapp.dcloud.net.cn/tutorial/page.html#getcurrentpages"><font color="#0433ff">getCurrentPages()</font></a>：函数用于获取当前页面栈的实例，以数组形式按栈的顺序给出，第一个元素为首页，最后一个元素为当前页面。</div><div><br/></div><div><span>B 页面处理完数据， 需要返回 A页面：</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>// 返回 A 页</div><div> goPageA(idx) {</div><div>     // 1. 获取当前页面栈实例（此时最后一个元素为当前页）</div><div>     let pages = getCurrentPages() </div><div>     </div><div>     // 2. 上一页面实例</div><div>     // 注意是 length 长度，所以要想得到上一页面的实例需要 -2</div><div>     // 若要返回上上页面的实例就 -3，以此类推</div><div>     let prevPage = pages[pages.length -2] </div><div>     </div><div>     // 3. 给上一页面实例绑定 getValue() 方法和参数（注意是$vm）</div><div>     prevPage.$vm.getValue(this.list) </div><div>     </div><div>     // 4. 返回上一页面</div><div>     uni.navigateBack({</div><div>         delta: 1 // 返回的页面数</div><div>     })</div><div> }</div></div><div><br/></div><div>在 A 页面中使用刚刚绑定的 getValue() 方法接收 B 页面传递的数据：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>getValue(list) {</div><div>    console.log(list, 'B页面传递的数据')</div><div>}</div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div/></body></html>